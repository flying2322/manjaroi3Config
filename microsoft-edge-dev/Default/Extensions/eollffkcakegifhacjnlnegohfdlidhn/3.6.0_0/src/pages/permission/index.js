import"../../../assets/js/modulepreload-polyfill.0c213636.js";import{c as s}from"../../../assets/js/use-chrome-storage.ebf04b55.js";import"../../../assets/js/index.828e458e.js";const r=()=>{window.navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>{console.log("Microphone access granted"),e.getTracks().forEach(o=>o.stop()),chrome.storage.local.get(s).then(o=>{chrome.storage.local.set({micPermission:"granted",[s]:{...o[s],micPermission:"granted"}})})}).catch(function(e){console.log("Microphone access error:",e.message);const o=e!=null&&e.message.includes("Permission dismissed")?"dismissed":"denied";chrome.storage.local.get(s).then(i=>{chrome.storage.local.set({micPermission:o,[s]:{...i[s],micPermission:o}})}),chrome.runtime.lastError&&console.log("Chrome runtime error:",chrome.runtime.lastError)})};window.addEventListener("load",()=>{console.log("Permission page loaded"),r()});
