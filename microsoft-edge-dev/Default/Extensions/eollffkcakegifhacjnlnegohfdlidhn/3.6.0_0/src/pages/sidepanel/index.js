import"../../../assets/js/modulepreload-polyfill.0c213636.js";import{c as u}from"../../../assets/js/client.32b9ad64.js";import{r as o}from"../../../assets/js/index.828e458e.js";import{g as f}from"../../../assets/js/ga-track-event.e50ed115.js";import{u as h,L as g}from"../../../assets/js/use-chrome-storage.ebf04b55.js";import{i as x}from"../../../assets/js/is-edge.867dc19c.js";import{j as t,a as y}from"../../../assets/js/jsx-runtime.cdbfd54c.js";const d={position:"fixed",top:"top",background:"#eee",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"10px",height:"100vh",width:"100vw",textAlign:"center",color:"#777"};function b(){const[r,n]=o.exports.useState(!1),{chromeStorage:e,setChromeStorage:i}=h(),[s,l]=o.exports.useState(null);o.exports.useEffect(()=>{chrome.runtime.connect({name:"mia-sidepanel"}),f({name:"open_mia"})},[]),o.exports.useEffect(()=>{if(e.storageLoaded){const a="https://chatgpt.com",c="?model=gpt-4",p=e.miaChatId?a+e.miaChatId+c:a+c;l(p)}},[e.storageLoaded]),o.exports.useEffect(()=>{e.sidebarStatus==="prompt"&&i({sidebarStatus:"acknowledged"})},[e.sidebarStatus]);const m=()=>{setTimeout(()=>{n(!0)},500)};return s?x()?t("div",{style:d,children:"Edge is not currently supported. Please use Chrome."}):e.storageLoaded&&!e.miaEnabled?y("div",{style:d,children:[t("h4",{style:{fontSize:16,marginBottom:10},children:"Mia is disabled"}),t("div",{onClick:()=>{i({miaEnabled:!0})},style:{cursor:"pointer",textDecoration:"underline"},children:"Click to enable"})]}):t("div",{style:{opacity:r?1:0,transition:"opacity 0.5s ease-in"},children:t("iframe",{allow:"microphone; autoplay",src:s,style:{height:"100vh",width:"100vw"},name:"mia-frame",onLoad:m})}):null}g.setup();function S(){const r=document.querySelector("#app-container");if(!r)throw new Error("Can not find #app-container");u(r).render(t(b,{}))}S();
