function e(e){var t=document.createElement("a");return t.href=e,t.hostname}document.addEventListener("DOMContentLoaded",function(){function t(e){e.target,this.value,"font-1"==e.target.id?n("sans"):"font-2"==e.target.id?n("seravek"):"font-3"==e.target.id?n("serif"):"font-4"==e.target.id?n("charter"):"theme-1"==e.target.id?o("light"):"theme-2"==e.target.id?o("warm"):"theme-3"==e.target.id?o("dusk"):"theme-4"==e.target.id&&o("dark")}function n(e){c("font",e)}function o(e){c("theme",e)}function c(e,t){chrome.storage.sync.get(["config"],function(n){var o={};n&&n.config&&(o=n.config),o[[e]]=t,chrome.storage.sync.set({config:o},function(){}),chrome.tabs.query({active:!0,currentWindow:!0},function(n){chrome.tabs.sendMessage(n[0].id,{type:"renderOptions",data:{[e]:t}},function(){})})})}function i(e){chrome.tabs.query({active:!0,currentWindow:!0},function(t){t[0].id,chrome.storage.sync.get(["config"],function(n){var o=1,c={};n&&n.config&&"number"!=typeof(o=(c=n.config).zoom)&&(o=1),e?o+=.1:(o-=.1)<.5&&(o=.5),chrome.tabs.sendMessage(t[0].id,{type:"renderOptions",data:{zoom:o}},function(){}),c.zoom=o,chrome.storage.sync.set({config:c},function(){})})})}function r(){i(!0)}function d(){i(!1)}function a(){chrome.tabs.query({active:!0,currentWindow:!0},function(t){const n=e(t[0].url);n&&getWebsiteAutoReaderMode(n,function(e){e?(setWebsiteToAutoReader(n,!1),document.getElementById("best-reader-view-options-use-reader").innerText=`Use Reader Automatically on "${n}"`):(setWebsiteToAutoReader(n,!0),document.getElementById("best-reader-view-options-use-reader").innerText=`✔️ Use Reader Automatically on "${n}"`)})})}!function(){document.getElementById("best-reader-view-plus").addEventListener("click",r),document.getElementById("best-reader-view-minus").addEventListener("click",d),document.getElementById("best-reader-view-options-use-reader").addEventListener("click",a);for(var e=document.getElementsByTagName("input"),n=0;n<e.length;n++)e[n].addEventListener("change",t)}(),chrome.storage.sync.get(["config"],function(e){e&&e.config&&(config=e.config,config,config.theme&&"warm"==config.theme?document.getElementById("theme-2").checked=!0:config.theme&&"dusk"==config.theme?document.getElementById("theme-3").checked=!0:config.theme&&"dark"==config.theme&&(document.getElementById("theme-4").checked=!0),config.font&&"seravek"==config.font?document.getElementById("font-2").checked=!0:config.font&&"serif"==config.font?document.getElementById("font-3").checked=!0:config.font&&"charter"==config.font&&(document.getElementById("font-4").checked=!0)),setTimeout(()=>{for(var e=document.getElementsByClassName("segmented-control"),t=0;t<e.length;t++)e[t].style.transitionDuration="0.3s"},100)}),chrome.tabs.query({active:!0,currentWindow:!0},function(t){t[0];const n=e(t[0].url);n&&getWebsiteAutoReaderMode(n,function(e){const t=e?"✔️ ":"";document.getElementById("best-reader-view-options-use-reader").innerText=`${t}Use Reader Automatically on "${n}"`})})});