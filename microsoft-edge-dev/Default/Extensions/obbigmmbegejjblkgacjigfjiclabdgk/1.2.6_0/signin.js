var signInCallback=null;function showSigninModal(n){const i=document.createElement("div");i.innerHTML=signinButtonHtml;const e=document.getElementById("best-reader-view-container");e?e.appendChild(i):document.body.appendChild(i),setTimeout(()=>{installClickHanderForSignin()},10),signInCallback=n}function installClickHanderForSignin(){document.getElementById("close-button").addEventListener("click",clickedCloseButton),document.getElementById("signin-with-google").addEventListener("click",clickedSigninWithGoogle),document.getElementById("signin-as-guest").addEventListener("click",clickedSigninAsGuest)}function clickedCloseButton(){dismissSigninPage(),signInCallback&&signInCallback({status:"dismissed"})}function clickedSigninWithGoogle(){chrome.runtime.sendMessage({fromTOS:!0,type:"signinWithGoogle"},function(n){}),signInCallback&&signInCallback({status:"google"}),dismissSigninPage()}function clickedSigninAsGuest(){chrome.runtime.sendMessage({fromTOS:!0,type:"signinAsGuest"},function(n){}),signInCallback&&signInCallback({status:"guest"}),dismissSigninPage()}function dismissSigninPage(){const n=document.getElementById("signin-modal");n.classList.remove("animateIn"),n.classList.add("animateOut");const i=document.getElementById("signin-page");i.style.backgroundColor="transparent",setTimeout(()=>{i.parentNode.removeChild(i)},500)}const signinButtonHtml=`\n    <div id='signin-page'>\n        <div class='animateIn' id='signin-modal'>\n            <div class="signin-header">\n                <div class="modal-title">Sign in</div>\n                <div id='close-button'><div filter='invert(100%)' style='width:16px; opacity:0.5'>${fa_times}</div></div>\n                </div>\n            <div class='signin-button' id='signin-with-google'>\n                <div style='width:20px; margin-right:8px'>${google_g}</div>\n                <p class='signin-text'>Sign in with Google</p>\n            </div>\n            <div class='signin-button' id='signin-as-guest'>\n                <p class='signin-text'>Sign in as Guest</p>\n            </div>\n            <p class='signin-description'>\n                Please sign in to ensure accurate feedback. Only your feedback is sent to the server, nothing else.\n            </p>\n        </div>\n    </div>\n    `;