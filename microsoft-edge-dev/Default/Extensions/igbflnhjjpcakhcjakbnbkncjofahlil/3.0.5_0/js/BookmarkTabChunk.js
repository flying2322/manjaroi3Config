(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1153:function(t,e,r){t.exports=r.p+"images/newTab/assets/img/staus-enable.png"},1154:function(t,e,r){t.exports=r.p+"images/newTab/assets/img/staus-disable.png"},1162:function(t,e,r){},1187:function(t,e,r){"use strict";r(1162)},1219:function(t,e,r){"use strict";r.r(e);r(19),r(26),r(29);var o=r(78),s=r.n(o),i=(r(7),r(545)),n=r(18),a=r(264),c=r(133),l=r(36),k=r(21);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m={data:()=>({searchBookmark:"",bookmarks:[],currentIndex:0,bscroll:null}),computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(l.c)("config",{tabIcons:"tab-icons",tabSettings:"tab-settings"})),watch:{searchBookmark(t){t?this.currentIndex=0:this.bookmarks.length&&"search"===this.bookmarks[0].id&&this.bookmarks.shift()}},methods:{search(){this.searchBookmark&&(this.bookmarks.length&&"search"===this.bookmarks[0].id&&(this.bookmarks[0].children=[]),Object(a.f)(this.searchBookmark).then(t=>{this.bookmarks.length&&"search"===this.bookmarks[0].id?this.bookmarks[0].children=t:this.bookmarks.unshift({children:t,dateAdded:"",dateGroupModified:"",id:"search",index:"search",parentId:"",title:"搜索"})}))},bookmarkAdd(t){var e={id:+new Date+"-bookmark-"+t.id,logoType:"web",name:t.title,url:t.url,src:"https://searchplugin.csdn.net/api/v2/favicon/get?url="+t.url,html:`<div class="fontLink" style="background: rgb(204, 204, 204);"><span><img src="https://searchplugin.csdn.net/api/v2/favicon/get?url=${t.url}"></span></div>`};this.$store.commit("icons/setLockSlide",!1);var r=s()(this.tabIcons),o=!1,i=!1;if(r.find((t,e)=>{var r=t.findIndex(t=>!t);return r>-1&&(o=e,i=r,!0)}),"number"!=typeof o){var n=this.tabSettings,a=n.column,c=n.row;("[]"===JSON.stringify(r)||a*c<=r[r.length-1].length)&&r.push([]),o=r.length-1,i=r[r.length-1].length}r[o][i]=e,k.a.set("tab-icons",r),1===r.length&&1===r[0].length||this.$emit("on-add",o+1),setTimeout(()=>{this.$store.commit("icons/setLockSlide",!0)},700)},bookmarkEdit(t){var e=this.hasIcon(t);e&&this.$emit("on-edit",e)},bookmarkDelete(t){Object(c.b)(t,"url")},hasIcon(t){return Object(c.c)(t,this.tabIcons,"url")},bookmarkPreview(t){t.url.startsWith("chrome://")&&n.k?chrome.tabs.create({url:t.url}):window.open(t.url,"_blank")},initScroll(){this.$nextTick(()=>{this.bscroll?(this.bscroll.refresh(),this.bscroll.scrollTo(0,0)):this.bscroll=new i.a(".right-icons-bookmark",{scrollY:!0,click:!0,scrollbar:{fade:!0,interactive:!0},bounce:!1,mouseWheel:!0})})},getBookmarksData(){Object(a.a)().then(t=>{this.bookmarks=t,this.initScroll()})}},created(){this.getBookmarksData()}},b=(r(1187),r(4)),d=Object(b.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"bookmark-drawer"}},[o("div",{staticClass:"bookmark-search"},[o("img",{attrs:{src:r(733),alt:""}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchBookmark,expression:"searchBookmark",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"搜索书签"},domProps:{value:t.searchBookmark},on:{input:[function(e){e.target.composing||(t.searchBookmark=e.target.value.trim())},t.search],blur:function(e){return t.$forceUpdate()}}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.searchBookmark,expression:"searchBookmark"}],staticClass:"delete",on:{click:function(e){t.searchBookmark=""}}})]),t._v(" "),o("div",{staticClass:"scroll-wrap"},[o("div",{staticClass:"left-categrey"},[o("transition-group",{attrs:{tag:"ul",name:"flip-list"}},t._l(t.bookmarks,(function(e,r){return o("li",{key:e.id,class:{active:r===t.currentIndex},on:{click:function(e){t.currentIndex=r,t.initScroll()}}},[o("span",[t._v(t._s(e.title))])])})),0)],1),t._v(" "),o("div",{staticClass:"right-icons-bookmark"},[o("div",{staticClass:"content main-scroll"},[t.bookmarks.length?o("ul",t._l(t.bookmarks[t.currentIndex].children,(function(e){return o("a-popover",{key:e.id,attrs:{mouseEnterDelay:.3,overlayClassName:"bookmark-icon-popover",title:"",placement:"top",trigger:"hover"}},[o("template",{slot:"content"},[o("BlurGrass",{attrs:{"is-preset":""}}),t._v(" "),o("div",{staticClass:"popover-icon-item"},[o("p",[t._v(t._s(e.title))]),t._v(" "),o("div",{staticStyle:{"min-width":"100px","max-width":"200px"}},[o("span",{on:{click:function(r){return t.bookmarkPreview(e)}}},[t._v("访问")]),t._v(" "),t.hasIcon(e)?[e.url.startsWith("CSDN://")?t._e():o("span",{on:{click:function(r){return t.bookmarkEdit(e)}}},[t._v("编辑")]),t._v(" "),o("span",{on:{click:function(r){return t.bookmarkDelete(e)}}},[t._v("移除")])]:o("span",{on:{click:function(r){return t.bookmarkAdd(e)}}},[t._v("添加")])],2)])],1),t._v(" "),o("li",{on:{click:function(r){return t.bookmarkPreview(e)}}},[o("span",[t._v(t._s(e.title))]),t._v(" "),t.hasIcon(e)?o("img",{attrs:{src:r(1153),alt:""},on:{click:function(r){return r.stopPropagation(),t.bookmarkDelete(e)}}}):o("img",{attrs:{src:r(1154),alt:""},on:{click:function(r){return r.stopPropagation(),t.bookmarkAdd(e)}}})])],2)})),1):t._e()])])])])}),[],!1,null,null,null);e.default=d.exports}}]);