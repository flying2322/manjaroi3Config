(()=>{var t={914:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9945),o=function(){function t(){this.state=Int32Array.from(n.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var e=0,r=t.byteLength;if(this.bytesHashed+=r,8*this.bytesHashed>n.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=t[e++],r--,this.bufferLength===n.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var t=8*this.bytesHashed,e=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(e.setUint8(this.bufferLength++,128),r%n.BLOCK_SIZE>=n.BLOCK_SIZE-8){for(var o=this.bufferLength;o<n.BLOCK_SIZE;o++)e.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<n.BLOCK_SIZE-8;o++)e.setUint8(o,0);e.setUint32(n.BLOCK_SIZE-8,Math.floor(t/4294967296),!0),e.setUint32(n.BLOCK_SIZE-4,t),this.hashBuffer(),this.finished=!0}var s=new Uint8Array(n.DIGEST_LENGTH);for(o=0;o<8;o++)s[4*o]=this.state[o]>>>24&255,s[4*o+1]=this.state[o]>>>16&255,s[4*o+2]=this.state[o]>>>8&255,s[4*o+3]=this.state[o]>>>0&255;return s},t.prototype.hashBuffer=function(){for(var t=this.buffer,e=this.state,r=e[0],o=e[1],s=e[2],i=e[3],a=e[4],h=e[5],u=e[6],c=e[7],f=0;f<n.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&t[4*f])<<24|(255&t[4*f+1])<<16|(255&t[4*f+2])<<8|255&t[4*f+3];else{var l=this.temp[f-2],p=(l>>>17|l<<15)^(l>>>19|l<<13)^l>>>10,d=((l=this.temp[f-15])>>>7|l<<25)^(l>>>18|l<<14)^l>>>3;this.temp[f]=(p+this.temp[f-7]|0)+(d+this.temp[f-16]|0)}var y=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&h^~a&u)|0)+(c+(n.KEY[f]+this.temp[f]|0)|0)|0,g=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&o^r&s^o&s)|0;c=u,u=h,h=a,a=i+y|0,i=s,s=o,o=r,r=y+g|0}e[0]+=r,e[1]+=o,e[2]+=s,e[3]+=i,e[4]+=a,e[5]+=h,e[6]+=u,e[7]+=c},t}();e.RawSha256=o},9945:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BLOCK_SIZE=64,e.DIGEST_LENGTH=32,e.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),e.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],e.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},1938:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(655).__exportStar(r(5430),e)},5430:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(655),o=r(9945),s=r(914),i=r(8668),a=function(){function t(t){if(this.hash=new s.RawSha256,t){this.outer=new s.RawSha256;var e=function(t){var e=h(t);if(e.byteLength>o.BLOCK_SIZE){var r=new s.RawSha256;r.update(e),e=r.digest()}var n=new Uint8Array(o.BLOCK_SIZE);return n.set(e),n}(t),r=new Uint8Array(o.BLOCK_SIZE);r.set(e);for(var n=0;n<o.BLOCK_SIZE;n++)e[n]^=54,r[n]^=92;this.hash.update(e),this.outer.update(r);for(n=0;n<e.byteLength;n++)e[n]=0}}return t.prototype.update=function(t){if(!function(t){if("string"==typeof t)return 0===t.length;return 0===t.byteLength}(t)&&!this.error)try{this.hash.update(h(t))}catch(t){this.error=t}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return n.__awaiter(this,void 0,void 0,(function(){return n.__generator(this,(function(t){return[2,this.digestSync()]}))}))},t}();function h(t){return"string"==typeof t?i.fromUtf8(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}e.Sha256=a},8668:(t,e,r)=>{"use strict";r.r(e),r.d(e,{fromUtf8:()=>n,toUtf8:()=>o});var n=function(t){return"function"==typeof TextEncoder?function(t){return(new TextEncoder).encode(t)}(t):function(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t.charCodeAt(r);if(o<128)e.push(o);else if(o<2048)e.push(o>>6|192,63&o|128);else if(r+1<t.length&&55296==(64512&o)&&56320==(64512&t.charCodeAt(r+1))){var s=65536+((1023&o)<<10)+(1023&t.charCodeAt(++r));e.push(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}else e.push(o>>12|224,o>>6&63|128,63&o|128)}return Uint8Array.from(e)}(t)},o=function(t){return"function"==typeof TextDecoder?function(t){return new TextDecoder("utf-8").decode(t)}(t):function(t){for(var e="",r=0,n=t.length;r<n;r++){var o=t[r];if(o<128)e+=String.fromCharCode(o);else if(192<=o&&o<224){var s=t[++r];e+=String.fromCharCode((31&o)<<6|63&s)}else if(240<=o&&o<365){var i="%"+[o,t[++r],t[++r],t[++r]].map((function(t){return t.toString(16)})).join("%");e+=decodeURIComponent(i)}else e+=String.fromCharCode((15&o)<<12|(63&t[++r])<<6|63&t[++r])}return e}(t)}},2587:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,r,n,o){r=r||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var i=/\+/g;t=t.split(r);var a=1e3;o&&"number"==typeof o.maxKeys&&(a=o.maxKeys);var h=t.length;a>0&&h>a&&(h=a);for(var u=0;u<h;++u){var c,f,l,p,d=t[u].replace(i,"%20"),y=d.indexOf(n);y>=0?(c=d.substr(0,y),f=d.substr(y+1)):(c=d,f=""),l=decodeURIComponent(c),p=decodeURIComponent(f),e(s,l)?Array.isArray(s[l])?s[l].push(p):s[l]=[s[l],p]:s[l]=p}return s}},2361:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,r,n,o){return r=r||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(o){var s=encodeURIComponent(e(o))+n;return Array.isArray(t[o])?t[o].map((function(t){return s+encodeURIComponent(e(t))})).join(r):s+encodeURIComponent(e(t[o]))})).join(r):o?encodeURIComponent(e(o))+n+encodeURIComponent(e(t)):""}},7673:(t,e,r)=>{"use strict";e.decode=e.parse=r(2587),e.encode=e.stringify=r(2361)},655:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>_,__await:()=>v,__awaiter:()=>c,__classPrivateFieldGet:()=>j,__classPrivateFieldSet:()=>x,__createBinding:()=>l,__decorate:()=>a,__exportStar:()=>p,__extends:()=>o,__generator:()=>f,__importDefault:()=>E,__importStar:()=>S,__makeTemplateObject:()=>O,__metadata:()=>u,__param:()=>h,__read:()=>y,__rest:()=>i,__spread:()=>g,__spreadArrays:()=>m,__values:()=>d});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function o(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},s.apply(this,arguments)};function i(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function a(t,e,r,n){var o,s=arguments.length,i=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function h(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,r,n){return new(r||(r=Promise))((function(o,s){function i(t){try{h(n.next(t))}catch(t){s(t)}}function a(t){try{h(n.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,a)}h((n=n.apply(t,e||[])).next())}))}function f(t,e){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=e.call(t,i)}catch(t){s=[6,t],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function l(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function p(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,s=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(y(arguments[e]));return t}function m(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var s=arguments[e],i=0,a=s.length;i<a;i++,o++)n[o]=s[i];return n}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function b(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),s=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(t){o[t]&&(n[t]=function(e){return new Promise((function(r,n){s.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=o[t](e)).value instanceof v?Promise.resolve(r.value.v).then(h,u):c(s[0][2],r)}catch(t){c(s[0][3],t)}var r}function h(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:v(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=d(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,o){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,o,(e=t[r](e)).done,e.value)}))}}}function O(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}function j(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function x(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},2511:function(t,e,r){var n;/*! https://mths.be/punycode v1.3.2 by @mathias */t=r.nmd(t),function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r.g&&r.g;s.global!==s&&s.window!==s&&s.self;var i,a=2147483647,h=36,u=/^xn--/,c=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function y(t){throw RangeError(l[t])}function g(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function m(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+g((t=t.replace(f,".")).split("."),e).join(".")}function v(t){for(var e,r,n=[],o=0,s=t.length;o<s;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<s?56320==(64512&(r=t.charCodeAt(o++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),o--):n.push(e);return n}function b(t){return g(t,(function(t){var e="";return t>65535&&(e+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=d(t)})).join("")}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function _(t,e,r){var n=0;for(t=r?p(t/700):t>>1,t+=p(t/e);t>455;n+=h)t=p(t/35);return p(n+36*t/(t+38))}function O(t){var e,r,n,o,s,i,u,c,f,l,d,g=[],m=t.length,v=0,w=128,O=72;for((r=t.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&y("not-basic"),g.push(t.charCodeAt(n));for(o=r>0?r+1:0;o<m;){for(s=v,i=1,u=h;o>=m&&y("invalid-input"),((c=(d=t.charCodeAt(o++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:h)>=h||c>p((a-v)/i))&&y("overflow"),v+=c*i,!(c<(f=u<=O?1:u>=O+26?26:u-O));u+=h)i>p(a/(l=h-f))&&y("overflow"),i*=l;O=_(v-s,e=g.length+1,0==s),p(v/e)>a-w&&y("overflow"),w+=p(v/e),v%=e,g.splice(v++,0,w)}return b(g)}function S(t){var e,r,n,o,s,i,u,c,f,l,g,m,b,O,S,E=[];for(m=(t=v(t)).length,e=128,r=0,s=72,i=0;i<m;++i)(g=t[i])<128&&E.push(d(g));for(n=o=E.length,o&&E.push("-");n<m;){for(u=a,i=0;i<m;++i)(g=t[i])>=e&&g<u&&(u=g);for(u-e>p((a-r)/(b=n+1))&&y("overflow"),r+=(u-e)*b,e=u,i=0;i<m;++i)if((g=t[i])<e&&++r>a&&y("overflow"),g==e){for(c=r,f=h;!(c<(l=f<=s?1:f>=s+26?26:f-s));f+=h)S=c-l,O=h-l,E.push(d(w(l+S%O,0))),c=p(S/O);E.push(d(w(c,0))),s=_(r,b,n==o),r=0,++n}++r,++e}return E.join("")}i={version:"1.3.2",ucs2:{decode:v,encode:b},decode:O,encode:S,toASCII:function(t){return m(t,(function(t){return c.test(t)?"xn--"+S(t):t}))},toUnicode:function(t){return m(t,(function(t){return u.test(t)?O(t.slice(4).toLowerCase()):t}))}},void 0===(n=function(){return i}.call(e,r,e,t))||(t.exports=n)}()},8575:(t,e,r)=>{"use strict";var n=r(2511),o=r(2502);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.Qc=b,e.WU=function(t){o.isString(t)&&(t=b(t));return t instanceof s?t.format():s.prototype.format.call(t)};var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),f=["%","/","?",";","#"].concat(c),l=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=r(7673);function b(t,e,r){if(t&&o.isObject(t)&&t instanceof s)return t;var n=new s;return n.parse(t,e,r),n}s.prototype.parse=function(t,e,r){if(!o.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),a=-1!==s&&s<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var b=t=u.join(a);if(b=b.trim(),!r&&1===t.split("#").length){var w=h.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var _=i.exec(b);if(_){var O=(_=_[0]).toLowerCase();this.protocol=O,b=b.substr(_.length)}if(r||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||_&&g[_]||(b=b.substr(2),this.slashes=!0)}if(!g[_]&&(S||_&&!m[_])){for(var E,j,x=-1,A=0;A<l.length;A++){-1!==(C=b.indexOf(l[A]))&&(-1===x||C<x)&&(x=C)}-1!==(j=-1===x?b.lastIndexOf("@"):b.lastIndexOf("@",x))&&(E=b.slice(0,j),b=b.slice(j+1),this.auth=decodeURIComponent(E)),x=-1;for(A=0;A<f.length;A++){var C;-1!==(C=b.indexOf(f[A]))&&(-1===x||C<x)&&(x=C)}-1===x&&(x=b.length),this.host=b.slice(0,x),b=b.slice(x),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var R=this.hostname.split(/\./),k=(A=0,R.length);A<k;A++){var L=R[A];if(L&&!L.match(p)){for(var U="",T=0,P=L.length;T<P;T++)L.charCodeAt(T)>127?U+="x":U+=L[T];if(!U.match(p)){var N=R.slice(0,A),q=R.slice(A+1),B=L.match(d);B&&(N.push(B[1]),q.unshift(B[2])),q.length&&(b="/"+q.join(".")+b),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var D=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+D,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!y[O])for(A=0,k=c.length;A<k;A++){var K=c[A];if(-1!==b.indexOf(K)){var M=encodeURIComponent(K);M===K&&(M=escape(K)),b=b.split(K).join(M)}}var W=b.indexOf("#");-1!==W&&(this.hash=b.substr(W),b=b.slice(0,W));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),e&&(this.query=v.parse(this.query)),b=b.slice(0,H)):e&&(this.search="",this.query={}),b&&(this.pathname=b),m[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){D=this.pathname||"";var G=this.search||"";this.path=D+G}return this.href=this.format(),this},s.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,i="";this.host?s=t+this.host:this.hostname&&(s=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(i=v.stringify(this.query));var a=this.search||i&&"?"+i||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==s?(s="//"+(s||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):s||(s=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),e+s+(r=r.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(a=a.replace("#","%23"))+n},s.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},s.prototype.resolveObject=function(t){if(o.isString(t)){var e=new s;e.parse(t,!1,!0),t=e}for(var r=new s,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var c=h[u];"protocol"!==c&&(r[c]=t[c])}return m[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!m[t.protocol]){for(var f=Object.keys(t),l=0;l<f.length;l++){var p=f[l];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||g[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var y=r.pathname||"",v=r.search||"";r.path=y+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=w||b||r.host&&t.pathname,O=_,S=r.pathname&&r.pathname.split("/")||[],E=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!m[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===S[0]?S[0]=r.host:S.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),_=_&&(""===d[0]||""===S[0])),w)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,S=d;else if(d.length)S||(S=[]),S.pop(),S=S.concat(d),r.search=t.search,r.query=t.query;else if(!o.isNullOrUndefined(t.search)){if(E)r.hostname=r.host=S.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift());return r.search=t.search,r.query=t.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!S.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var j=S.slice(-1)[0],x=(r.host||t.host||S.length>1)&&("."===j||".."===j)||""===j,A=0,C=S.length;C>=0;C--)"."===(j=S[C])?S.splice(C,1):".."===j?(S.splice(C,1),A++):A&&(S.splice(C,1),A--);if(!_&&!O)for(;A--;A)S.unshift("..");!_||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),x&&"/"!==S.join("/").substr(-1)&&S.push("");var I,R=""===S[0]||S[0]&&"/"===S[0].charAt(0);E&&(r.hostname=r.host=R?"":S.length?S.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift()));return(_=_||r.host&&S.length)&&!R&&S.unshift(""),S.length?r.pathname=S.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},s.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},2502:t=>{"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t,e=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},n=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,s=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},o=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t},s={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};!function(t){t.DEBUG="DEBUG",t.ERROR="ERROR",t.INFO="INFO",t.WARN="WARN",t.VERBOSE="VERBOSE"}(t||(t={}));for(var i=function(){function r(e,r){void 0===r&&(r=t.WARN),this.name=e,this.level=r,this._pluggables=[]}return r.prototype._padding=function(t){return t<10?"0"+t:""+t},r.prototype._ts=function(){var t=new Date;return[this._padding(t.getMinutes()),this._padding(t.getSeconds())].join(":")+"."+t.getMilliseconds()},r.prototype.configure=function(t){return t?(this._config=t,this._config):this._config},r.prototype._log=function(n){for(var o,i,a=[],h=1;h<arguments.length;h++)a[h-1]=arguments[h];var u=this.level;r.LOG_LEVEL&&(u=r.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(u=window.LOG_LEVEL);var c=s[u],f=s[n];if(f>=c){var l=console.log.bind(console);n===t.ERROR&&console.error&&(l=console.error.bind(console)),n===t.WARN&&console.warn&&(l=console.warn.bind(console));var p="["+n+"] "+this._ts()+" "+this.name,d="";if(1===a.length&&"string"==typeof a[0])l(d=p+" - "+a[0]);else if(1===a.length)d=p+" "+a[0],l(p,a[0]);else if("string"==typeof a[0]){var y=a.slice(1);1===y.length&&(y=y[0]),d=p+" - "+a[0]+" "+y,l(p+" - "+a[0],y)}else d=p+" "+a,l(p,a);try{for(var g=e(this._pluggables),m=g.next();!m.done;m=g.next()){var v=m.value,b={message:d,timestamp:Date.now()};v.pushLogs([b])}}catch(t){o={error:t}}finally{try{m&&!m.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}}},r.prototype.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._log.apply(this,o([t.INFO],e))},r.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._log.apply(this,o([t.INFO],e))},r.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._log.apply(this,o([t.WARN],e))},r.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._log.apply(this,o([t.ERROR],e))},r.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._log.apply(this,o([t.DEBUG],e))},r.prototype.verbose=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._log.apply(this,o([t.VERBOSE],e))},r.prototype.addPluggable=function(t){t&&"Logging"===t.getCategoryName()&&(this._pluggables.push(t),t.configure(this._config))},r.prototype.listPluggables=function(){return this._pluggables},r.LOG_LEVEL=null,r}(),a=r(1938),h={},u={},c=0;c<256;c++){var f=c.toString(16).toLowerCase();1===f.length&&(f="0"+f),h[c]=f,u[f]=c}function l(t){for(var e="",r=0;r<t.byteLength;r++)e+=h[t[r]];return e}var p=r(8575),d=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,s=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i},y={clockOffset:0,getDateWithClockOffset:function(){return y.clockOffset?new Date((new Date).getTime()+y.clockOffset):new Date},getClockOffset:function(){return y.clockOffset},getHeaderStringFromDate:function(t){return void 0===t&&(t=y.getDateWithClockOffset()),t.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(t){var e=d(t.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),r=e[1],n=e[2],o=e[3],s=e[4],i=e[5],a=e[6];return new Date(Date.UTC(Number(r),Number(n)-1,Number(o),Number(s),Number(i),Number(a)))},isClockSkewed:function(t){return Math.abs(t.getTime()-y.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(t){if(!t.response||!t.response.headers)return!1;var e=t.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(e["x-amzn-errortype"])&&(e.date||e.Date))},setClockOffset:function(t){y.clockOffset=t}},g=function(){return g=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},g.apply(this,arguments)},m=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r},v=new i("Signer"),b="AWS4-HMAC-SHA256",w=function(t,e){var r=new a.Sha256(t);return r.update(e),r.digestSync()},_=function(t){var e=t||"",r=new a.Sha256;return r.update(e),l(r.digestSync())},O=function(t){return Object.keys(t).map((function(t){return t.toLowerCase()})).sort().join(";")},S=function(t){var e,r,n=(0,p.Qc)(t.url);return[t.method||"/",encodeURIComponent(n.pathname).replace(/%2F/gi,"/"),(r=n.query,r&&0!==r.length?r.split("&").map((function(t){var e=t.split("=");if(1===e.length)return t;var r=e[1].replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}));return e[0]+"="+r})).sort((function(t,e){var r=t.split("=")[0],n=e.split("=")[0];return r===n?t<e?-1:1:r<n?-1:1})).join("&"):""),(e=t.headers,e&&0!==Object.keys(e).length?Object.keys(e).map((function(t){return{key:t.toLowerCase(),value:e[t]?e[t].trim().replace(/\s+/g," "):""}})).sort((function(t,e){return t.key<e.key?-1:1})).map((function(t){return t.key+":"+t.value})).join("\n")+"\n":""),O(t.headers),_(t.data)].join("\n")},E=function(t){var e=((0,p.Qc)(t.url).host.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===e[1]&&(e=e.reverse()),{service:t.service||e[0],region:t.region||e[1]}},j=function(t,e,r){return[t,e,r,"aws4_request"].join("/")},x=function(t,e,r,n){return[t,r,n,_(e)].join("\n")},A=function(t,e,r){v.debug(r);var n=w("AWS4"+t,e),o=w(n,r.region),s=w(o,r.service);return w(s,"aws4_request")},C=function(t,e){return l(w(t,e))},I=function(){function t(){}return t.sign=function(t,e,r){if(void 0===r&&(r=null),t.headers=t.headers||{},t.body&&!t.data)throw new Error('The attribute "body" was found on the request object. Please use the attribute "data" instead.');var n=y.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),o=n.substr(0,8),s=(0,p.Qc)(t.url);t.headers.host=s.host,t.headers["x-amz-date"]=n,e.session_token&&(t.headers["X-Amz-Security-Token"]=e.session_token);var i=S(t);v.debug(i);var a=r||E(t),h=j(o,a.region,a.service),u=x(b,i,n,h),c=A(e.secret_key,o,a),f=C(c,u),l=function(t,e,r,n,o){return[t+" Credential="+e+"/"+r,"SignedHeaders="+n,"Signature="+o].join(", ")}(b,e.access_key,h,O(t.headers),f);return t.headers.Authorization=l,t},t.signUrl=function(t,e,r,n){var o="object"==typeof t?t.url:t,s="object"==typeof t?t.method:"GET",i="object"==typeof t?t.body:void 0,a=y.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),h=a.substr(0,8),u=(0,p.Qc)(o,!0,!0),c=(u.search,m(u,["search"])),f={host:c.host},l=r||E({url:(0,p.WU)(c)}),d=l.region,v=l.service,w=j(h,d,v),_=e.session_token&&"iotdevicegateway"!==v,O=g(g(g({"X-Amz-Algorithm":b,"X-Amz-Credential":[e.access_key,w].join("/"),"X-Amz-Date":a.substr(0,16)},_?{"X-Amz-Security-Token":""+e.session_token}:{}),n?{"X-Amz-Expires":""+n}:{}),{"X-Amz-SignedHeaders":Object.keys(f).join(",")}),I=S({method:s,url:(0,p.WU)(g(g({},c),{query:g(g({},c.query),O)})),headers:f,data:i}),R=x(b,I,a,w),k=A(e.secret_key,h,{region:d,service:v}),L=C(k,R),U=g({"X-Amz-Signature":L},e.session_token&&{"X-Amz-Security-Token":e.session_token});return(0,p.WU)({protocol:c.protocol,slashes:!0,hostname:c.hostname,port:c.port,pathname:c.pathname,query:g(g(g({},c.query),O),U)})},t}();new function(){let t=this;function e(){chrome.runtime.onMessage.addListener((function(e,r,n){if(t[e.fn]&&(t[e.fn](e,r,n),t.isAsyncFunction(e.fn)))return!0}))}function r(t,e){t.length>e.length&&(t=t.substring(t.length-e.length));let r=function(t){let e=new Array(t.length),r=0;e[0]=-1,e[1]=0;let n=2;for(;n<t.length;)t[n-1]==t[r]?(e[n]=r+1,n+=1,r+=1):r>0?r=e[r]:(e[n]=0,n+=1);return e}(e),n=0,o=0;for(;n+o<t.length;)e[o]==t[n+o]?o+=1:(n+=o-r[o],o>0&&(o=r[o]));return o}t.init=e,t.isAsyncFunction=function(e){return!!t.asyncFunctions.includes(e)},t.sendTtsRequest=function(e,n,o){const s=e.queryEndpoint;return function(t,e){let r=e.split("execute-api.us-east-1.amazonaws.com")[1],n="";return function(t){const{search:e,...r}=p.Qc(t,!0,!0);let n=p.WU({...r,query:{...r.query}});return Promise.resolve(n)}(e).then((t=>(n=t,Promise.resolve()))).then((()=>chrome.amplifyAuth.currentCredentials())).then((t=>chrome.amplifyAuth.essentialCredentials(t))).then((e=>{let o={headers:{"Content-Type":"application/json; charset=UTF-8"},data:JSON.stringify({t}),method:"POST",path:r,url:n},s={region:"us-east-1",service:"execute-api"},i={secret_key:e.secretAccessKey,access_key:e.accessKeyId,session_token:e.sessionToken};const a=I.sign(o,i,s);return delete a.headers.host,a})).catch((t=>{}))}(e.text,s).then((n=>function(e,n){let o=[];return new Promise((e=>{t.hasTooManyRequestsError?setTimeout((()=>{e()}),500):e()})).then((()=>(t.hasTooManyRequestsError=!1,fetch(n.url,{method:"POST",mode:"cors",cache:"no-cache",headers:n.headers,referrer:"client",referrerPolicy:"origin-when-cross-origin",body:n.data})))).then((t=>{let e="";return t&&t.headers&&(e=t.headers.get("content-type"),t.headers.has("x-smark")&&(o=function(t){try{let e=(t=function(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(t)).substring(0,2).trim(),n=t.substring(2).split(e),o=[];for(let t=0;t<n.length;t+=4){let e={};e.word=n[t],e.start=parseInt(n[t+1]),e.end=parseInt(n[t+2]),e.time=parseInt(n[t+3]),o.push(e)}let s=[];for(let t=0;t<o.length;t++)if(o[t-1])if(o[t-1].start===o[t].start||o[t-1].end===o[t].end||o[t].start<o[t-1].end){if(s[s.length-1].end<o[t].end||o[t].start<s[s.length-1].end){let e=r(s[s.length-1].word,o[t].word);s[s.length-1].word=s[s.length-1].word.substring(0,s[s.length-1].word.length-e)+o[t].word,s[s.length-1].end=o[t].end}}else{let e={};e.word=o[t].word,e.start=o[t].start,e.end=o[t].end,e.time=o[t].time,s.push(e)}else{let e={};e.word=o[t].word,e.start=o[t].start,e.end=o[t].end,e.time=o[t].time,s.push(e)}return s}catch(t){return[]}}(t.headers.get("x-smark")))),t.ok?t.blob():e&&e.includes("application/json")?t.json():resolve({url:"",text:"",marks:[],err:"ERR_UNKNOWN"})})).then((t=>new Promise((r=>{if(!t)return r({url:"",text:e,marks:[],err:"ERR_BLOB_UNDEFINED"});if(t&&t.errorCode)return r({url:"",text:"",marks:[],err:t.errorCode});if(t&&t.code)return r({url:"",text:"",marks:[],err:t.code});t&&""===t.type&&(t=new Blob([t],{type:"audio/mpeg"}));try{const n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){return r({url:n.result,text:e,marks:o,err:""})}}catch(t){return console.error("blob: ",t),r({url:"",text:e,marks:[],err:"ERR_UNKNOWN"})}})))).catch((t=>Promise.resolve({url:"",text:e,marks:[],err:"ERR_UNKNOWN"})))}(e.text,n))).then((t=>{o(t)})).catch((t=>{}))},t.asyncFunctions=["sendTtsRequest"],e()}})()})();